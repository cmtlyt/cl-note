var he=Object.freeze,Le=Object.defineProperty;var S=(e,t)=>he(Le(e,"raw",{value:he(t||e.slice())}));import{p as T,j as c,a,S as ce,c as Ge,$ as pe,d as Xe}from"./index-C0y08yPM.js";import{r as N,_ as X,d as q,e as J,f as z,h as qe,i as Je,S as Qe,j as Q,k as Z,l as Ze,m as me,n as Ve}from"./react-vendor-BC_lhG4F.js";import"./__commonjsHelpers__-Cpj98o6Y.js";var Oe;const et=T.div(Oe||(Oe=S(["\n  box-shadow: 0 0 0 0.1rem #e5e5e5;\n"])));function tt(e){return c(et,{"un-p":"x-[0.75em]","un-text":"[0.8em]","un-rounded":"full",...e})}var ze;const le=T.div(ze||(ze=S(["\n  background-color: #fff;\n  border-radius: 1rem;\n  box-shadow: 0.2rem 0.2rem 1rem -0.8rem var(--shadow-color);\n"]))),rt=le;function nt(e){const{note:t,onClick:r,...n}=e;return a(rt,{"un-flex":"~ col","un-p":"[1rem]",onClick:()=>r==null?void 0:r(t.id),...n,children:[a("div",{"un-flex":"~ items-center","un-w":"full",children:[t.icon&&c(ce,{name:t.icon,"un-size":"$big-icon-size","un-flex-shrink":"0","un-m":"r-[0.5em]"}),c("div",{"un-flex":"1","un-line-clamp":"1","un-m":"r-[0.5em]","un-text":"[2rem]","un-line-height":"none",children:t.title}),c(tt,{"un-color":"$detail-text-color","un-flex-shrink":"0",children:t.date})]}),t.content&&c("div",{"un-line-clamp":"2","un-text":"[1.4rem]","un-color":"$detail-text-color","un-line-height":"none","un-m":"t-[0.5em]",children:t.content})]})}function it(e){const{notes:t,onClick:r,...n}=e;return c("div",{"un-w":"full","un-flex":"~ col","un-p":"x-[1rem]",...n,children:t.map(i=>c(nt,{note:i,"un-m":"b-[1rem]",onClick:r},i.id))})}function ot(e,t=2){const r=String(e.toFixed(t)),[n,i]=r.split("."),o=n.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");return/^0*$/.test(i)?o:"".concat(o,".").concat(i)}function A(e){const{amount:t,showSign:r=!0,decimal:n=2,...i}=e,o=t<0?"-":"+";return a("div",{"un-flex":"~ items-center","un-flex-shrink":"0",...i,children:[r&&c("span",{"un-m":"r-[0.25rem]",children:o}),c("span",{children:ot(Math.abs(t),n)})]})}function ut(e){const{label:t,value:r,onClick:n,...i}=e;return c("div",{onClick:()=>n==null?void 0:n(r),"un-line-height":"none","un-w":"full",...i,children:t})}var Ce,Fe;const st=T(le)(Fe||(Fe=S(["\n  background-color: #fff8;\n  ","\n"])),e=>Ge(Ce||(Ce=S(["\n    --count: ",";\n  "])),e.$count));function ye(e){const{placeholder:t,options:r,children:n,onChange:i,...o}=e,u=N.useMemo(()=>[...t?[t]:[],...r||[]],[r,t]),[s,l]=N.useState({value:(u==null?void 0:u[0].value)||"",label:(u==null?void 0:u[0].label)||""}),b=N.useCallback(h=>{l(h),i==null||i(h.value)},[i]);return a("div",{"un-relative":"~",className:"group",children:[a("label",{children:[a("div",{...o,children:[c("span",{children:s.label}),n]}),c("input",{type:"input","un-hidden-with-position":"~",readOnly:!0})]}),c(st,{$count:u.length,"un-absolute":"~","un-top":"full","un-grid":"~  rows-[repeat(var(--count),0fr)]","un-overflow":"hidden","un-transition":"duration-200 property-[grid-template-rows]","un-color":"transparent","un-group-focus-within":"color-inherit rows-[repeat(var(--count),1fr)] [&>*]:p-y-[0.5em]","un-w":"max","un-backdrop-blur":"[0.5rem]","un-z":"1",children:u.map(h=>c(ut,{...h,"un-min-h":"0","un-p":"x-[1em]","un-transition":"all duration-200",onClick:()=>b(h)},h.value))})]})}function y(e){return typeof e=="function"}function je(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var K=je(function(e){return function(r){e(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(n,i){return i+1+") "+n.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r}});function V(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var $=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=X(u),l=s.next();!l.done;l=s.next()){var b=l.value;b.remove(this)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else u.remove(this);var h=this.initialTeardown;if(y(h))try{h()}catch(p){o=p instanceof K?p.errors:[p]}var de=this._finalizers;if(de){this._finalizers=null;try{for(var C=X(de),P=C.next();!P.done;P=C.next()){var He=P.value;try{be(He)}catch(p){o=o!=null?o:[],p instanceof K?o=q(q([],J(o)),J(p.errors)):o.push(p)}}}catch(p){n={error:p}}finally{try{P&&!P.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}}if(o)throw new K(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)be(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&V(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&V(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),De=$.EMPTY;function Ie(e){return e instanceof $||e&&"closed"in e&&y(e.remove)&&y(e.add)&&y(e.unsubscribe)}function be(e){y(e)?e():e.unsubscribe()}var Te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$e={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,q([e,t],J(r)))},clearTimeout:function(e){var t=$e.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ct(e){$e.setTimeout(function(){throw e})}function ve(){}function k(e){e()}var Me=function(e){z(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Ie(r)&&r.add(n)):n.destination=dt,n}return t.create=function(r,n,i){return new ee(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}($),lt=Function.prototype.bind;function H(e,t){return lt.call(e,t)}var at=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){F(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){F(n)}else F(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){F(r)}},e}(),ee=function(e){z(t,e);function t(r,n,i){var o=e.call(this)||this,u;if(y(r)||!r)u={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&Te.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()},u={next:r.next&&H(r.next,s),error:r.error&&H(r.error,s),complete:r.complete&&H(r.complete,s)}):u=r}return o.destination=new at(u),o}return t}(Me);function F(e){ct(e)}function ft(e){throw e}var dt={closed:!0,next:ve,error:ft,complete:ve},ht=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function pt(e){return e}function mt(e){return e.length===0?pt:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var _e=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=bt(t)?t:new ee(t,r,n);return k(function(){var u=i,s=u.operator,l=u.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=we(r),new r(function(i,o){var u=new ee({next:function(s){try{t(s)}catch(l){o(l),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ht]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return mt(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=we(t),new t(function(n,i){var o;r.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function we(e){var t;return(t=e!=null?e:Te.Promise)!==null&&t!==void 0?t:Promise}function yt(e){return e&&y(e.next)&&y(e.error)&&y(e.complete)}function bt(e){return e&&e instanceof Me||yt(e)&&Ie(e)}var vt=je(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Re=function(e){z(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Se(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new vt},t.prototype.next=function(r){var n=this;k(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=X(n.currentObservers),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(r)}}catch(b){i={error:b}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;k(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;k(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,u=i.isStopped,s=i.observers;return o||u?De:(this.currentObservers=null,s.push(r),new $(function(){n.currentObservers=null,V(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,u=n.isStopped;i?r.error(o):u&&r.complete()},t.prototype.asObservable=function(){var r=new _e;return r.source=this,r},t.create=function(r,n){return new Se(r,n)},t}(_e),Se=function(e){z(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:De},t}(Re),_t=function(e){z(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Re),Ue=Symbol.for("immer-nothing"),ge=Symbol.for("immer-draftable"),f=Symbol.for("immer-state");function m(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var g=Object.getPrototypeOf;function x(e){return!!e&&!!e[f]}function _(e){var t;return e?We(e)||Array.isArray(e)||!!e[ge]||!!((t=e.constructor)!=null&&t[ge])||R(e)||U(e):!1}var wt=Object.prototype.constructor.toString();function We(e){if(!e||typeof e!="object")return!1;const t=g(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===wt}function j(e,t){M(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function M(e){const t=e[f];return t?t.type_:Array.isArray(e)?1:R(e)?2:U(e)?3:0}function te(e,t){return M(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Be(e,t,r){const n=M(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function St(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function R(e){return e instanceof Map}function U(e){return e instanceof Set}function v(e){return e.copy_||e.base_}function re(e,t){if(R(e))return new Map(e);if(U(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=We(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[f];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const u=i[o],s=n[u];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[u]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[u]})}return Object.create(g(e),n)}else{const n=g(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ae(e,t=!1){return W(e)||x(e)||!_(e)||(M(e)>1&&(e.set=e.add=e.clear=e.delete=gt),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>ae(n,!0))),e}function gt(){m(2)}function W(e){return Object.isFrozen(e)}var xt={};function w(e){const t=xt[e];return t||m(0,e),t}var E;function Ye(){return E}function Pt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xe(e,t){t&&(w("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ne(e){ie(e),e.drafts_.forEach(At),e.drafts_=null}function ie(e){e===E&&(E=e.parent_)}function Pe(e){return E=Pt(E,e)}function At(e){const t=e[f];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ae(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[f].modified_&&(ne(t),m(4)),_(e)&&(e=D(t,e),t.parent_||I(t,e)),t.patches_&&w("Patches").generateReplacementPatches_(r[f].base_,e,t.patches_,t.inversePatches_)):e=D(t,r,[]),ne(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ue?e:void 0}function D(e,t,r){if(W(t))return t;const n=t[f];if(!n)return j(t,(i,o)=>Ee(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return I(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,u=!1;n.type_===3&&(o=new Set(i),i.clear(),u=!0),j(o,(s,l)=>Ee(e,n,i,s,l,r,u)),I(e,i,!1),r&&e.patches_&&w("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Ee(e,t,r,n,i,o,u){if(x(i)){const s=o&&t&&t.type_!==3&&!te(t.assigned_,n)?o.concat(n):void 0,l=D(e,i,s);if(Be(r,n,l),x(l))e.canAutoFreeze_=!1;else return}else u&&r.add(i);if(_(i)&&!W(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;D(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&I(e,i)}}function I(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ae(t,r)}function Et(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ye(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=fe;r&&(i=[n],o=O);const{revoke:u,proxy:s}=Proxy.revocable(i,o);return n.draft_=s,n.revoke_=u,s}var fe={get(e,t){if(t===f)return e;const r=v(e);if(!te(r,t))return Ot(e,r,t);const n=r[t];return e.finalized_||!_(n)?n:n===L(e.base_,t)?(G(e),e.copy_[t]=ue(n,e)):n},has(e,t){return t in v(e)},ownKeys(e){return Reflect.ownKeys(v(e))},set(e,t,r){const n=Ne(v(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=L(v(e),t),o=i==null?void 0:i[f];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(St(r,i)&&(r!==void 0||te(e.base_,t)))return!0;G(e),oe(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return L(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,G(e),oe(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=v(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){m(11)},getPrototypeOf(e){return g(e.base_)},setPrototypeOf(){m(12)}},O={};j(fe,(e,t)=>{O[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});O.deleteProperty=function(e,t){return O.set.call(this,e,t,void 0)};O.set=function(e,t,r){return fe.set.call(this,e[0],t,r,e[0])};function L(e,t){const r=e[f];return(r?v(r):e)[t]}function Ot(e,t,r){var i;const n=Ne(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ne(e,t){if(!(t in e))return;let r=g(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=g(r)}}function oe(e){e.modified_||(e.modified_=!0,e.parent_&&oe(e.parent_))}function G(e){e.copy_||(e.copy_=re(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(l=o,...b){return u.produce(l,h=>r.call(this,h,...b))}}typeof r!="function"&&m(6),n!==void 0&&typeof n!="function"&&m(7);let i;if(_(t)){const o=Pe(this),u=ue(t,void 0);let s=!0;try{i=r(u),s=!1}finally{s?ne(o):ie(o)}return xe(o,n),Ae(i,o)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Ue&&(i=void 0),this.autoFreeze_&&ae(i,!0),n){const o=[],u=[];w("Patches").generateReplacementPatches_(t,i,o,u),n(o,u)}return i}else m(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...s)=>this.produceWithPatches(u,l=>t(l,...s));let n,i;return[this.produce(t,r,(u,s)=>{n=u,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_(e)||m(8),x(e)&&(e=Ct(e));const t=Pe(this),r=ue(e,void 0);return r[f].isManual_=!0,ie(t),r}finishDraft(e,t){const r=e&&e[f];(!r||!r.isManual_)&&m(9);const{scope_:n}=r;return xe(n,t),Ae(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=w("Patches").applyPatches_;return x(e)?n(e,t):this.produce(e,i=>n(i,t))}};function ue(e,t){const r=R(e)?w("MapSet").proxyMap_(e,t):U(e)?w("MapSet").proxySet_(e,t):Et(e,t);return(t?t.scope_:Ye()).drafts_.push(r),r}function Ct(e){return x(e)||m(10,e),Ke(e)}function Ke(e){if(!_(e)||W(e))return e;const t=e[f];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=re(e,t.scope_.immer_.useStrictShallowCopy_)}else r=re(e,!0);return j(r,(n,i)=>{Be(r,n,Ke(i))}),t&&(t.finalized_=!1),r}var d=new zt,Ft=d.produce;d.produceWithPatches.bind(d);d.setAutoFreeze.bind(d);d.setUseStrictShallowCopy.bind(d);d.applyPatches.bind(d);d.createDraft.bind(d);d.finishDraft.bind(d);function B(e,t,r){return qe(n=>n(e)[t],(n,i,o)=>{i(e,Ft(n(e),u=>{u[t]=o}))})}const kt=new _t({outputAmount:0,inputAmount:0,year:new Date().getFullYear(),month:0}),Y=Je(()=>kt),jt=B(Y,"outputAmount"),Dt=B(Y,"inputAmount"),It=B(Y,"year"),Tt=B(Y,"month");var ke;const $t=T.div(ke||(ke=S(["\n  box-shadow: 0.2rem 0.2rem 1rem -0.8rem var(--shadow-color);\n"])));function se(e){const{children:t,...r}=e;return c(Ze,{children:c("span",{"un-text":"[1.4rem]",...r,children:t})})}function Mt(){const e=me(It),t=me(Tt);return a(Q,{"un-flex":"~ col justify-between items-start",children:[c(se,{children:c(ye,{onChange:r=>e(Number(r)),placeholder:{label:"2024年",value:"2024"},options:[{label:"2023年",value:"2023"},{label:"2022年",value:"2022"}]})}),c(Z,{"un-line-height":"[3.6rem]","un-h":"[3.6rem]","un-w":"full",children:c(ye,{"un-flex":"~ items-center justify-between","un-text":"[2.4rem]","un-w":"[7rem]","un-whitespace":"nowrap",placeholder:{label:"全年",value:"0"},options:[{label:"1月",value:"1"},{label:"2月",value:"2"},{label:"3月",value:"3"},{label:"4月",value:"4"},{label:"5月",value:"5"},{label:"6月",value:"6"},{label:"7月",value:"7"},{label:"8月",value:"8"},{label:"9月",value:"9"},{label:"10月",value:"10"},{label:"11月",value:"11"},{label:"12月",value:"12"}],onChange:r=>t(Number(r)),children:c(ce,{name:"arrow-bottom","un-size":"[1.2rem]","un-color":"$detail-text-color"})})})]})}function Rt(){return a($t,{"un-flex":"~ items-end","un-bg":"white","un-p":"x-[2rem] y-[2rem]","un-m":"b-[1rem]",children:[c(Mt,{}),c("div",{"un-h":"[3rem]","un-w":"[0.1rem]","un-bg":"$detail-color","un-rounded":"full","un-m":"x-[2rem]"}),a(Qe,{"un-flex":"[3]",children:[a(Q,{children:[c(se,{children:"本月支出"}),c(Z,{"un-h":"[3.6rem]","un-flex":"~ items-center","un-color":"$danger-color","un-line-height":"[3.6rem]",children:c(A,{amount:pe(jt),showSign:!1,"un-font":"bold","un-text":"[2.8rem]"})})]}),a(Q,{children:[c(se,{children:"本月收入"}),c(Z,{"un-h":"[3.6rem]","un-flex":"~ items-center","un-color":"$success-color","un-line-height":"[3.6rem]",children:c(A,{amount:pe(Dt),showSign:!1,"un-font":"bold","un-text":"[2.8rem]"})})]})]})]})}const Ut=le;function Wt(e){const{amountInfo:{id:t,title:r,amount:n,icon:i},onClick:o,...u}=e;return a(Ut,{onClick:()=>o==null?void 0:o(t),"un-flex":"~ items-center","un-w":"full","un-p":"[1rem]",...u,children:[c(ce,{name:i,"un-size":"$big-icon-size","un-flex-shrink":"0","un-m":"r-[0.5rem]"}),c("span",{"un-flex":"1","un-line-clamp":"1",children:r}),c(A,{amount:n,"un-m":"l-[0.5rem]"})]})}function Bt(e){const{date:t,amountList:r}=e,n=r.reduce((o,u)=>u.amount>0?o+u.amount:o,0),i=r.reduce((o,u)=>u.amount<0?o-u.amount:o,0);return a("div",{"un-flex":"~ items-center justify-between","un-m":"b-[1rem] t-[1rem]","un-text":"[1.4rem]",children:[c("span",{children:t}),a("div",{"un-flex":"~ items-center","un-color":"$detail-text-color",children:[!!n&&a("div",{"un-m":"x-[0.5rem]","un-flex":"~ items-center",children:[c("span",{"un-m":"r-[0.5rem]",children:"收入:"}),c(A,{amount:n,showSign:!1})]}),!!i&&a("div",{"un-m":"x-[0.5rem]","un-flex":"~ items-center",children:[c("span",{"un-m":"r-[0.5rem]",children:"支出:"}),c(A,{amount:i,showSign:!1})]})]})]})}function Yt(e){const{amounts:t,onClick:r,...n}=e,i=t.reduce((o,u)=>{const l=Xe(u.date).format("MM月DD日 dddd").toString();return o[l]||(o[l]=[]),o[l].push(u),o},{});return c("div",{"un-flex":"~ col","un-w":"full","un-p":"x-[1rem]",...n,children:Object.entries(i).map(([o,u])=>a(Ve.Fragment,{children:[c(Bt,{date:o,amountList:u}),u.map(s=>c(Wt,{amountInfo:s,onClick:r,"un-m":"b-[1rem]"},s.id))]},o))})}function Gt(){return a("div",{"un-h":"full","un-flex":"~ col",children:[c(Rt,{}),a("div",{"un-overflow":"y-auto",children:[c(Yt,{amounts:[{id:"1",amount:123,date:"2023-12-25",icon:"user",title:"123123123123123123123123123123123123123123123123"},{id:"2",amount:123123,date:"2023-12-25",icon:"react",title:"123123"},{id:"3",amount:-123,date:"2023-12-25",icon:"react",title:"123123"},{id:"4",amount:-123123,date:"2023-12-25",icon:"react",title:"123123"},{id:"5",amount:123123.123,date:"2023-12-25",icon:"react",title:"123123"},{id:"6",amount:-123123.123,date:"2024-6-20",icon:"react",title:"123123"}],onClick:e=>console.log(e)}),c(it,{notes:[{id:"1",title:"123123123123123123123123123123123123123123123123",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"react"},{id:"2",title:"123123123123123123123123123123123123123123123123",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"user"},{id:"3",title:"123123123123123123123123123123123123123123123123",date:"2023-12-25",icon:"user"},{id:"4",title:"123123123123123123123123123123123123123123123123",date:"2023-12-25"},{id:"5",title:"12312312",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"react"}],onClick:e=>{console.log("click",e)}})]})]})}export{Gt as default};
