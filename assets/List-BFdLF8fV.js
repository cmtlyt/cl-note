var g=Object.freeze,I=Object.defineProperty;var f=(n,t)=>g(I(n,"raw",{value:g(t||n.slice())}));import{a9 as k,ac as e,ab as u,ad as v,ai as C,aj as z,ak as m,al as w,a2 as N}from"./index-DxHqn3Ai.js";import{C as y,S}from"./Select-BRPQFEEP.js";import{n as P,S as D,E as p,G as x,H as L,q as A,I as M}from"./react-vendor-Cc9n1L3I.js";import"./__commonjsHelpers__-Cpj98o6Y.js";var j;const W=k.div(j||(j=f(["\n  box-shadow: 0 0 0 0.1rem #e5e5e5;\n"])));function B(n){return e(W,{"un-p":"x-[0.75em]","un-text":"[0.8em]","un-rounded":"full",...n})}const F=y;function T(n){const{note:t,onClick:o,...i}=n;return u(F,{"un-flex":"~ col","un-p":"[1rem]",onClick:()=>o==null?void 0:o(t.id),...i,children:[u("div",{"un-flex":"~ items-center","un-w":"full",children:[t.icon&&e(v,{name:t.icon,"un-size":"$big-icon-size","un-flex-shrink":"0","un-m":"r-[0.5em]"}),e("div",{"un-flex":"1","un-line-clamp":"1","un-m":"r-[0.5em]","un-text":"[2rem]","un-line-height":"none",children:t.title}),e(B,{"un-color":"$detail-text-color","un-flex-shrink":"0",children:t.date})]}),t.content&&e("div",{"un-line-clamp":"2","un-text":"[1.4rem]","un-color":"$detail-text-color","un-line-height":"none","un-m":"t-[0.5em]",children:t.content})]})}function E(n){const{notes:t,onClick:o,...i}=n;return e("div",{"un-w":"full","un-flex":"~ col","un-p":"x-[1rem]",...i,children:t.map(a=>e(T,{note:a,"un-m":"b-[1rem]",onClick:o},a.id))})}function c(n){const{amount:t,showSign:o=!0,decimal:i=2,...a}=n,r=t<0?"-":"+";return u("div",{"un-flex":"~ items-center","un-flex-shrink":"0",...a,children:[o&&e("span",{"un-m":"r-[0.25rem]",children:r}),e("span",{children:C(Math.abs(t),i)})]})}const G=new z({outputAmount:0,inputAmount:0,year:new Date().getFullYear(),month:0}),s=P(()=>G),O=m(s,"outputAmount"),Y=m(s,"inputAmount"),q=m(s,"year"),H=m(s,"month");var $;const R=k.div($||($=f(["\n  box-shadow: 0.2rem 0.2rem 1rem -0.8rem var(--shadow-color);\n"])));function b(n){const{children:t,...o}=n;return e(L,{children:e("span",{"un-text":"[1.4rem]",...o,children:t})})}function J(){const n=A(q),t=A(H);return u(p,{"un-flex":"~ col justify-between items-start",children:[e(b,{children:e(S,{onChange:o=>n(Number(o)),placeholder:{label:"2024年",value:"2024"},options:[{label:"2023年",value:"2023"},{label:"2022年",value:"2022"}]})}),e(x,{"un-line-height":"[3.6rem]","un-h":"[3.6rem]","un-w":"full",children:e(S,{"un-flex":"~ items-center justify-between","un-text":"[2.4rem]","un-w":"[7rem]","un-whitespace":"nowrap",placeholder:{label:"全年",value:"0"},options:[{label:"1月",value:"1"},{label:"2月",value:"2"},{label:"3月",value:"3"},{label:"4月",value:"4"},{label:"5月",value:"5"},{label:"6月",value:"6"},{label:"7月",value:"7"},{label:"8月",value:"8"},{label:"9月",value:"9"},{label:"10月",value:"10"},{label:"11月",value:"11"},{label:"12月",value:"12"}],onChange:o=>t(Number(o)),children:e(v,{slot:"icon",name:"arrow-bottom","un-size":"[1.2rem]","un-color":"$detail-text-color"})})})]})}function K(){return u(R,{"un-flex":"~ items-end","un-bg":"white","un-p":"x-[2rem] y-[2rem]","un-m":"b-[1rem]",children:[e(J,{}),e("div",{"un-h":"[3rem]","un-w":"[0.1rem]","un-bg":"$detail-color","un-rounded":"full","un-m":"x-[2rem]"}),u(D,{"un-flex":"[3]",children:[u(p,{children:[e(b,{children:"本月支出"}),e(x,{"un-h":"[3.6rem]","un-flex":"~ items-center","un-color":"$danger-color","un-line-height":"[3.6rem]",children:e(c,{amount:w(O),showSign:!1,"un-font":"bold","un-text":"[2.8rem]"})})]}),u(p,{children:[e(b,{children:"本月收入"}),e(x,{"un-h":"[3.6rem]","un-flex":"~ items-center","un-color":"$success-color","un-line-height":"[3.6rem]",children:e(c,{amount:w(Y),showSign:!1,"un-font":"bold","un-text":"[2.8rem]"})})]})]})]})}const Q=y;function U(n){const{amountInfo:{id:t,title:o,amount:i,icon:a},onClick:r,...l}=n;return u(Q,{onClick:()=>r==null?void 0:r(t),"un-flex":"~ items-center","un-w":"full","un-p":"[1rem]",...l,children:[e(v,{name:a,"un-size":"$big-icon-size","un-flex-shrink":"0","un-m":"r-[0.5rem]"}),e("span",{"un-flex":"1","un-line-clamp":"1",children:o}),e(c,{amount:i,"un-m":"l-[0.5rem]"})]})}function V(n){const{date:t,amountList:o}=n,i=o.reduce((r,l)=>l.amount>0?r+l.amount:r,0),a=o.reduce((r,l)=>l.amount<0?r-l.amount:r,0);return u("div",{"un-flex":"~ items-center justify-between","un-m":"b-[1rem] t-[1rem]","un-text":"[1.4rem]",children:[e("span",{children:t}),u("div",{"un-flex":"~ items-center","un-color":"$detail-text-color",children:[!!i&&u("div",{"un-m":"x-[0.5rem]","un-flex":"~ items-center",children:[e("span",{"un-m":"r-[0.5rem]",children:"收入:"}),e(c,{amount:i,showSign:!1})]}),!!a&&u("div",{"un-m":"x-[0.5rem]","un-flex":"~ items-center",children:[e("span",{"un-m":"r-[0.5rem]",children:"支出:"}),e(c,{amount:a,showSign:!1})]})]})]})}function X(n){const{amounts:t,onClick:o,...i}=n,a=t.reduce((r,l)=>{const h=N(l.date).format("MM月DD日 dddd").toString();return r[h]||(r[h]=[]),r[h].push(l),r},{});return e("div",{"un-flex":"~ col","un-w":"full","un-p":"x-[1rem]",...i,children:Object.entries(a).map(([r,l])=>u(M.Fragment,{children:[e(V,{date:r,amountList:l}),l.map(d=>e(U,{amountInfo:d,onClick:o,"un-m":"b-[1rem]"},d.id))]},r))})}function oe(){return u("div",{"un-h":"full","un-flex":"~ col",children:[e(K,{}),u("div",{"un-overflow":"y-auto",children:[e(X,{amounts:[{id:"1",amount:123,date:"2023-12-25",icon:"user",title:"123123123123123123123123123123123123123123123123"},{id:"2",amount:123123,date:"2023-12-25",icon:"react",title:"123123"},{id:"3",amount:-123,date:"2023-12-25",icon:"react",title:"123123"},{id:"4",amount:-123123,date:"2023-12-25",icon:"react",title:"123123"},{id:"5",amount:123123.123,date:"2023-12-25",icon:"react",title:"123123"},{id:"6",amount:-123123.123,date:"2024-6-20",icon:"react",title:"123123"}],onClick:n=>console.log(n)}),e(E,{notes:[{id:"1",title:"123123123123123123123123123123123123123123123123",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"react"},{id:"2",title:"123123123123123123123123123123123123123123123123",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"user"},{id:"3",title:"123123123123123123123123123123123123123123123123",date:"2023-12-25",icon:"user"},{id:"4",title:"123123123123123123123123123123123123123123123123",date:"2023-12-25"},{id:"5",title:"12312312",content:"123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123123",date:"123",icon:"react"}],onClick:n=>{console.log("click",n)}})]})]})}export{oe as default};
