var d=Object.freeze,F=Object.defineProperty;var p=(t,e)=>d(F(t,"raw",{value:d(e||t.slice())}));import{p as v,u as D,j as m,a as n,S as b,D as C,g as k,$ as S,b as j}from"./index-IVfeZYwU.js";import{y as z,r as s,z as A,A as R,q as T}from"./react-vendor-BluLH6uN.js";import{t as w,F as $,a as h}from"./Form-DroZ_8DE.js";import"./OptionItem-Ak-nyvNI.js";import{u as B,C as y,S as E}from"./Select-CQKEWP3T.js";import"./__commonjsHelpers__-Cpj98o6Y.js";var g;const O=v(y)(g||(g=p(["\n  border-radius: 0;\n"])));function P(t){const{title:e,hasBack:u,hasFixed:o=!1,children:l,onBack:r,...i}=t,a=D(l),c=z(),x=s.useCallback(()=>{var f;((f=r==null?void 0:r())!=null?f:!0)&&c(-1)},[r,c]);return B(m(O,{slot:"header","un-flex":"~ items-center justify-center","un-p":"y-[1rem]","un-bg":"white","un-w":"full","un-z":"100",children:[n("div",{"un-absolute":"~","un-left":"[1rem]",children:a.icon||u&&n(b,{name:"chevron-left",onClick:x,"un-size":"$big-icon-size"})}),n("div",{"un-font":"bold",...i,children:a.title||a.default||e}),n("div",{"un-absolute":"~","un-right":"[2rem]",children:a.right})]}),C,o)}function K(){var i;const t=s.useRef(null),e=A(),u=R(),o=s.useRef(!1),l=T(h);u&&(o&&((i=t.current)==null||i.reset()),o.current=!1);const r=s.useCallback(()=>{o.current=!0;const a=k(t.current,["type","consumeType","date","payType","amount","title"]);Object.values(a).some(c=>!c)||e(t.current)},[e]);return m(s.Fragment,{children:[m(P,{hasBack:!0,hasFixed:!0,children:[n(E,{slot:"title",placement:"bottomcenter",defaultValue:S(h),options:w,onChange:a=>l(a),children:n(b,{slot:"icon",name:"arrow-bottom","un-size":"[1rem]","un-color":"$detail-text-color","un-m":"l-[0.5em]"})}),n(y,{slot:"right","un-text":"[1.3rem]","un-p":"x-[1em] y-[0.25em]",onClick:r,children:"提交"})]}),n($,{ref:t})]})}async function L({request:t}){const e=j(await t.formData());return console.log(e),{test:"actionData"}}export{L as action,K as default};
